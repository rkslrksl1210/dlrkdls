import streamlit as st
import time

# Streamlit 페이지 설정
st.set_page_config(
    page_title="🌈 MBTI 직업 추천기",
    page_icon="🧠",
    layout="wide"
)

# 🌠 별 애니메이션 (CSS)
st.markdown("""
    <style>
    .star {
        position: absolute;
        color: #f1c40f;
        animation: floatUp 3s ease-in infinite;
        font-size: 24px;
    }
    @keyframes floatUp {
        0% { transform: translateY(0); opacity: 1; }
        100% { transform: translateY(-200px); opacity: 0; }
    }
    .star-container {
        position: relative;
        height: 0px;
    }
    </style>
    <div class="star-container">
        <div class="star" style="left:10%;">⭐</div>
        <div class="star" style="left:30%;">🌟</div>
        <div class="star" style="left:50%;">✨</div>
        <div class="star" style="left:70%;">🌠</div>
        <div class="star" style="left:90%;">💫</div>
    </div>
""", unsafe_allow_html=True)

# 🌈 헤더
st.markdown("<h1 style='text-align: center; color: #6C5CE7;'>✨ MBTI 기반 직업 추천 웹앱 ✨</h1>", unsafe_allow_html=True)
st.markdown("<h3 style='text-align: center; color: #00B894;'>🌟 당신의 성격에 딱 맞는 직업을 찾아보세요! 🌟</h3>", unsafe_allow_html=True)
st.markdown("---")

# MBTI 리스트
mbti_list = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

# MBTI 선택
selected_mbti = st.selectbox("🔍 당신의 MBTI를 선택하세요!", mbti_list)

# MBTI별 추천 직업 & 설명
mbti_jobs = {
    "INTJ": [
        ("🧪 데이터 과학자", "논리적 사고와 분석력을 활용하여 방대한 데이터를 다루며 통찰을 이끌어냅니다.\n혼자 집중할 수 있는 환경에서 최고의 성과를 냅니다.\n문제를 해결하고 새로운 전략을 제시하는 데 탁월한 능력을 가집니다."),
        ("🛰️ 전략 컨설턴트", "복잡한 문제를 구조화하고 효율적인 해결책을 제시합니다.\n전략적 사고로 기업이나 조직의 방향성을 설정합니다.\n강한 독립성과 목표 지향적 성향이 중요한 역할을 합니다."),
        ("🧠 AI 연구원", "새로운 기술을 탐구하며 인공지능 모델을 설계하고 개선합니다.\n탐구심과 분석력이 요구되는 고난이도 분야입니다.\n기술의 미래를 만들어가는 역할을 합니다.")
    ],
    "INTP": [
        ("🔬 연구 과학자", "끝없는 호기심으로 새로운 것을 탐구하고 이해하려는 성향이 강합니다.\n실험, 분석, 모델링 등 창의적 사고가 필요한 분야에 적합합니다.\n현실보단 아이디어에 집중하며 이론 중심으로 활동합니다."),
        ("💡 UX 디자이너", "문제의 본질을 파악하고 사용자의 행동을 이해하는 데 탁월합니다.\n논리적 구조를 바탕으로 창의적인 솔루션을 제공합니다.\n기술과 인간 사이의 다리를 놓는 역할입니다."),
        ("📚 철학자 / 학자", "깊이 있는 사고와 논리적 분석을 통해 이론을 구축합니다.\n독창적인 관점을 통해 새로운 개념을 탐색합니다.\n조용히 몰입하는 환경을 선호합니다.")
    ],
    "ENTJ": [
        ("📈 CEO", "강한 리더십과 추진력을 바탕으로 조직을 이끄는 능력이 뛰어납니다.\n계획을 세우고 실현시키는 능력이 탁월하며 결정력도 강합니다.\n도전을 즐기고 끊임없이 더 큰 목표를 추구합니다."),
        ("🏛️ 경영 컨설턴트", "조직의 문제를 진단하고 개선안을 제시하는 데 능숙합니다.\n분석력, 전략적 사고, 커뮤니케이션 능력이 중요합니다.\n다양한 산업을 경험하며 빠르게 성장할 수 있습니다."),
        ("⚖️ 변호사", "명확한 논리를 기반으로 설득과 주장에 능합니다.\n리더십과 책임감으로 복잡한 사안을 해결합니다.\n사회 정의에 대한 강한 의식도 발휘됩니다.")
    ],
    "ENTP": [
        ("🎤 창업가", "새로운 아이디어를 실현하는 데 거침없고 에너지가 넘칩니다.\n위험을 감수하면서도 빠르게 배우며 변화에 유연하게 대응합니다.\n세상을 바꿀 무언가를 만들고자 하는 열정이 강합니다."),
        ("📢 마케팅 디렉터", "창의적인 전략으로 소비자의 마음을 사로잡는 데 능합니다.\n자유롭고 활기찬 분위기에서 최고의 성과를 냅니다.\n트렌드에 민감하고 커뮤니케이션 능력이 탁월합니다."),
        ("🎮 게임 기획자", "상상력과 전략을 결합해 사람들을 열광시키는 콘텐츠를 만듭니다.\n복잡한 시스템을 설계하고 유저 경험을 중시합니다.\n아이디어를 실현하는 추진력도 중요합니다.")
    ],
    "INFJ": [
        ("🧘‍♂️ 심리상담가", "타인의 감정을 깊이 공감하고 치유의 말을 전하는 데 뛰어납니다.\n진정한 의미와 가치를 추구하며 깊이 있는 대화를 나눕니다.\n개인적인 성장을 도우며 삶의 방향을 제시합니다."),
        ("📚 작가", "감성적이면서도 직관적인 통찰력을 글로 표현하는 데 탁월합니다.\n조용한 공간에서 창작에 몰입하는 걸 즐깁니다.\n영감을 바탕으로 세상에 긍정적인 메시지를 전달합니다."),
        ("🎨 예술가", "감정과 아이디어를 창의적인 방식으로 표현합니다.\n세상을 더 아름답고 의미 있게 만들고자 합니다.\n개성 있는 스타일로 깊은 인상을 남깁니다.")
    ],
    "INFP": [
        ("📝 시인 / 소설가", "감정이 풍부하고 상상력이 뛰어나 문학에 강한 흥미를 가집니다.\n자신의 내면 세계를 글로 표현하고자 하는 욕구가 큽니다.\n진정성 있는 메시지를 통해 독자와 연결됩니다."),
        ("🎼 작곡가", "감정을 음악으로 표현하며 창의적이고 감성적인 스타일을 지녔습니다.\n혼자 있는 시간을 소중히 여기며 내면의 세계를 소리로 그립니다.\n세상과 소통하는 도구로 음악을 선택합니다."),
        ("🎭 드라마 작가", "사람의 심리와 이야기를 깊이 있게 표현할 수 있습니다.\n감정 이입 능력이 뛰어나며 서사에 몰입하는 경향이 강합니다.\n감동적인 메시지로 사람들을 사로잡습니다.")
    ],
    "ENFJ": [
        ("🎓 교육자", "타인을 가르치고 성장시키는 데 큰 만족감을 느낍니다.\n이해심과 친절함으로 학습자와 긍정적인 관계를 형성합니다.\n영향력 있는 리더로서 공동체를 이끌어갑니다."),
        ("🤝 HR 매니저", "사람의 가능성과 재능을 알아보고 지원하는 역할에 적합합니다.\n조직 내 분위기를 이끌고 조율하는 능력이 뛰어납니다.\n커뮤니케이션과 감성지능이 필수입니다."),
        ("🎤 퍼실리테이터", "회의나 교육 등 다양한 활동에서 사람들의 참여를 유도합니다.\n분위기를 주도하고 창의적인 논의를 이끌어냅니다.\n긍정적 에너지가 강점입니다.")
    ],
    "ENFP": [
        ("🎙️ 크리에이터", "자유롭고 활기찬 성격으로 콘텐츠를 만드는 것을 즐깁니다.\n사람들과 소통하는 것을 좋아하며 독창적인 아이디어가 넘칩니다.\n유튜브, 팟캐스트, SNS 등 다양한 채널에 잘 어울립니다."),
        ("🌍 NGO 활동가", "사회 문제에 관심이 많고 변화를 이끌고자 하는 열정이 강합니다.\n사람들과 협력하고 실질적인 도움을 주는 것을 중요하게 생각합니다.\n국제적인 활동이나 현장 중심의 업무에 적합합니다."),
        ("🎬 영화 감독", "스토리텔링 능력과 예술적 감각이 뛰어나며 팀을 이끄는 능력도 중요합니다.\n풍부한 상상력으로 사람들의 감정을 이끄는 작품을 만듭니다.\n창의적이고 자유로운 환경에서 최고의 성과를 냅니다.")
    ],
    # 나머지 8개 MBTI도 필요하다면 바로 추가 가능!
}

# 결과 출력
jobs = mbti_jobs.get(selected_mbti)
if jobs:
    with st.spinner('✨ 마법처럼 어울리는 직업을 찾고 있어요...'):
        time.sleep(2)
    st.balloons()
    st.markdown(f"## 🎁 {selected_mbti} 유형에게 어울리는 직업은?")
    for job, desc in jobs:
        with st.expander(job):
            st.markdown(desc)
else:
    st.warning("⚠️ 아직 이 MBTI 유형에 대한 직업 정보가 준비되지 않았어요. 요청해 주시면 바로 추가할게요!")

# 푸터 꾸미기
st.markdown("---")
st.markdown("<div style='text-align: center; font-size: 30px;'>🌟💼🎓🧠🎨📊🎤🎬💻🛠️📚</div>", unsafe_allow_html=True)
st.markdown("<p style='text-align: center; color: gray;'>Made with 💖 by 진로상담봇 | MBTI Career Finder 2025</p>", unsafe_allow_html=True)
